<ion-header no-border class="g-header">
  <ion-navbar>
    <!--<ion-buttons start>-->
      <!--<button ion-button icon-only>-->
        <!--<ion-icon name="search"></ion-icon>-->
      <!--</button>-->
    <!--</ion-buttons>-->
    <ion-title>
      云选材 ·图说
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="banner" [ngClass]="{none:!banners.hasInit}">
    <ion-slides transparent pager>
      <ion-slide *ngFor="let el of banners.data">
        <img [src]="el.img_url">
      </ion-slide>
    </ion-slides>
  </div>
  <!--图说-->
  <div class="hot-wrap">
    <div class="content" [ngClass]="{none:!dataConfig.hasInit}">
      <ul class="clearfix" id="waterfallContainer" [ngStyle]="{height:containerHeight+'px'}">
        <li *ngFor="let item of dataConfig.data;let i=index;let last = last;" [ngStyle]="{left:item.left+'px',top:item.top+'px',width:imageWidth+'px'}" [repeat]="last" (repeatRendered)="renderedList()" [@image]="viewState"  [ngClass]="{loaded:item.loaded}">
          <a href="javascript:void(0)" (click)="openDetail(item)" title="图说">
            <div class="img-wrap">
              <div class="middle-outer">
                <div class="middle-inner">
                  <img [src]="item.url" class="block" [ngStyle]="{height:item.ossHeight+'px'}" alt="图说详情">
                </div>
              </div>
            </div>
            <div class="info">
              <p class="title">{{item.title}}</p>
              <p class="view">{{item.choiceness_count}}</p>
              <p class="operate" (click)="toggleLikeImage($event,item,false)">
                <span class="star" [ngClass]="{active:item.had_star}"></span>
                <span class="star copy none"></span>
                <span class="count">{{item.favorite_count}}</span>
              </p>
            </div>
          </a>
        </li>
      </ul>
    </div>
    <div class="middle-loading">
      <div [ngClass]="{none:!dataConfig.loading}">加载中...</div>
      <div [ngClass]="{none:!(!dataConfig.loading&&dataConfig.page>=dataConfig.pageCount&&dataConfig.page>1)}">
        <img src="assets/images/home/landing.png" class="landing">
      </div>
    </div>
  </div>
</ion-content>

<ion-footer>
  <navigation [index]="'1'"></navigation>
</ion-footer>
